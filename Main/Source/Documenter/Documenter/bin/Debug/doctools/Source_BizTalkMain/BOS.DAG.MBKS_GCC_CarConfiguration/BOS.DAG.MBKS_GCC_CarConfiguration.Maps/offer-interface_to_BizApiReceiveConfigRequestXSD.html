<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>
					Map To BOS.DAG.MBKS_GCC_CarConfiguration.Schemas.BizApiReceiveConfigRequestXSD</title>
<style type="text/css">
					/*
					Branding Colour palette.
					Blue light				R:070 G:155 B:200	#469bc8
					Blue dark				R:050 G:075 B:118	#324b76
					Shade 1	(dark mauve)	R:129 G:158 B:187	#819ebb
					Shade 2	(mauve)			R:174 G:200 B:216	#aec8d8
					Shade 3	(light mauve)	R:215 G:231 B:239	#d7e7ef
					Grey dark				R:070 G:070 B:070	#464646
					Grey medium				R:165 G:165 B:165	#a5a5a5
					Grey light				R:190 G:190 B:190	#bcbfbe
					*/

					body	{ font-family: Arial }
					hr		{ border: 0; height: 2px; width: 100%; }
					table	{ width: 100%; font-size: small; }
					th		{ color: white;	background-color: #324b76; text-align: left;}
					h1		{ color: #469bc8; font-family: Arial; }
					h2		{ color: #324b76; font-family: Arial; }
					h3		{ color: #464646; font-family: Arial; }

					#pageTitle { color: #469bc8; font-size: 20px; font-weight: bold }

					.titleArea { border-left: 5px solid #333366; padding-left: 5px }
					.titleSchema { color: #324b76; font-size: 14px; font-weight: bold }
					.linkTableAltRow { 	background-color: #ededed; }
					.linkTableDiffNodeRow { background-color: #C8E2FF }
					.linkTableCol { border-bottom: 1px solid black; background-color: #CCCC99 }
					.functoidArea { font-family: Lucida Console, Courier New; font-size: 11px }
					.functoidName { color: blue }
					.functoidBracket { color: green; font-weight: bold }
					.functoidScript { color: #003300 }
					.paramComma { color: blue; font-weight: bold }
					.internalLink { font-size: 10px }
					.collapseref { font-size: 10px; cursor:pointer }
				</style>
</head>
<body>
<a name="top"></a>
<div class="titleArea">
<h1>BizTalk Map Documentation</h1>
<table border="0">
<tr class="titleSchema">
<td>From Schema(s):</td>
<td>BOS.DAG.MBKS_GCC_CarConfiguration.Schemas.offer_interface</td>
</tr>
<tr class="titleSchema">
<td>To Schema:</td>
<td>BOS.DAG.MBKS_GCC_CarConfiguration.Schemas.BizApiReceiveConfigRequestXSD</td>
</tr>
</table>
</div>
<a href="#functoids" class="internalLink">Functoids</a>
<a href="#constantvalues" class="internalLink">Constant Values</a>
<hr />
<h2>Direct Node-to-Node Links (No Functoids)</h2>
<h3>Page 1: Header</h3>
<p>
<a id="pageDirect1Anchor" onclick="toggleCollapse('pageDirect1', 'pageDirect1Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageDirect1">
<table>
<tr>
<th width="40%">From</th>
<th width="40%">To</th>
<th width="20%">Label</th>
</tr>
<tr>
<td>offer-interface/offers/offer/&lt;Sequence&gt;/vehiclepositions/vehicleposition/calculation/priceBasicVehicleGross</td>
<td>VEHICLE/MODEL_PRICE</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>offer-interface/offers/offer/&lt;Sequence&gt;/vehiclepositions/vehicleposition/calculation/priceOption</td>
<td>VEHICLE/TOTAL_OPTIONS</td>
<td></td>
</tr>
<tr>
<td>offer-interface/offers/offer/&lt;Sequence&gt;/vehiclepositions/vehicleposition/vehicle-basic/typeclass</td>
<td>VEHICLE/PART_NO</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>offer-interface/offers/offer/&lt;Sequence&gt;/vehiclepositions/vehicleposition/vehicle-basic/typedescription</td>
<td>VEHICLE/DESCRIPTION</td>
<td></td>
</tr>
</table>
</div>
<h3>Page 2: Options</h3>
<p>
<a id="pageDirect2Anchor" onclick="toggleCollapse('pageDirect2', 'pageDirect2Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageDirect2">
<table>
<tr>
<th width="40%">From</th>
<th width="40%">To</th>
<th width="20%">Label</th>
</tr>
<tr>
<td>offer-interface/offers/offer/&lt;Sequence&gt;/vehiclepositions/vehicleposition/vehicle-basic/baumuster</td>
<td>VEHICLE/BAUMUSTER</td>
<td></td>
</tr>
</table>
</div>
<h3>Page 3: Charges</h3>
<p>
<a id="pageDirect3Anchor" onclick="toggleCollapse('pageDirect3', 'pageDirect3Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageDirect3">
<table>
<tr>
<th width="40%">From</th>
<th width="40%">To</th>
<th width="20%">Label</th>
</tr>
</table>
</div>
<h3>Page 4: Accessories</h3>
<p>
<a id="pageDirect4Anchor" onclick="toggleCollapse('pageDirect4', 'pageDirect4Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageDirect4">
<table>
<tr>
<th width="40%">From</th>
<th width="40%">To</th>
<th width="20%">Label</th>
</tr>
</table>
</div>
<hr />
<a name="functoids"></a>
<span style="font-size: 12px">^ </span>
<a href="#top" class="internalLink">Top</a>
<br />
<br />
<h2>Functoid Mappings</h2>
<h3>Page 1: Header</h3>
<p>
<a id="pageFunctoids1Anchor" onclick="toggleCollapse('pageFunctoids1', 'pageFunctoids1Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageFunctoids1">
<table>
<tr>
<th width="40%">Functoid Sequence</th>
<th width="40%">Destination Node</th>
<th width="20%">Labels</th>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/MESSAGE_TYPE</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/SOURCE</td>
<td></td>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidScript"><br />	public string ConvertToApplicationCode(string unitType)
	{
	switch (unitType.Substring(0,1))
		{
		    case "A":
            		return "PB";
		    case "B":
            		return "V2";
		    case "C":
            		return "DR";
		    case "D":
            		return "LB";

		}
		return unitType;
	}</span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/APPLICATION_CODE</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/CURRENCY_CODE</td>
<td></td>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/USER_ID</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/FILE_NAME</td>
<td></td>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidScript"><br />public decimal MyConcat(decimal param1)
{
	totalCharges = param1;
return totalCharges;
}
</span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/TOTAL_CHARGES</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/DESTINATION</td>
<td></td>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/OEM_ORDER_NO</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidBracket">( </span>
<span class="functoidBracket"> )</span>
</div>
</td>
<td>VEHICLE/EXTERNAL_USER_ID</td>
<td></td>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<br /><span class="functoidBracket">(</span>
<br />
<span class="paramComma">,</span>
<br />
<br /><span class="functoidBracket">)</span>
</div>
</td>
<td>VEHICLE/TOTAL_PRICE</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidScript"><br />&lt;xsl:for-each select = "/offer-interface/offers/offer/vehiclepositions/vehicleposition/vehicle-options/systempartneroptions/option"&gt;
   &lt;xsl:variable name="var:tempvar1" select="option-price/text()" /&gt;
   &lt;xsl:variable name="var:tempvar2" select="userCSharp:SumAllAccessories($var:tempvar1)" /&gt;
&lt;/xsl:for-each&gt;


&lt;xsl:for-each select = "/offer-interface/offers/offer/vehiclepositions/vehicleposition/vehicle-options/additionaloptions/additionaloption"&gt;
   &lt;xsl:variable name="var:tempvar1" select="option-price/text()" /&gt;
   &lt;xsl:variable name="var:tempvar2" select="userCSharp:SumAllAccessories($var:tempvar1)" /&gt;
&lt;/xsl:for-each&gt;







&lt;xsl:variable name="var:tempvar3" select="userCSharp:ReturnSumAllAccessories()" /&gt;

&lt;xsl:element name="ns0:TOTAL_ACCESSORIES"&gt;
   &lt;xsl:value-of select="$var:tempvar3" /&gt;
&lt;/xsl:element&gt;
</span>
</div>
</td>
<td>VEHICLE/TOTAL_ACCESSORIES</td>
<td></td>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<br /><span class="functoidBracket">(</span>
<br />
<span class="paramComma">,</span>
<br />
<span class="paramComma">,</span>
<br />
<span class="paramComma">,</span>
<br />
<span class="paramComma">,</span>
<br />
<br /><span class="functoidBracket">)</span>
</div>
</td>
<td>VEHICLE/FILE_PATH</td>
<td></td>
</tr>
</table>
</div>
<h3>Page 2: Options</h3>
<p>
<a id="pageFunctoids2Anchor" onclick="toggleCollapse('pageFunctoids2', 'pageFunctoids2Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageFunctoids2">
<table>
<tr>
<th width="40%">Functoid Sequence</th>
<th width="40%">Destination Node</th>
<th width="20%">Labels</th>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidScript"><br />&lt;xsl:for-each select = "/offer-interface/offers/offer/vehiclepositions/vehicleposition/vehicle-options/paintings/painting"&gt;
&lt;xsl:element name="ns0:OPTION"&gt;
   &lt;xsl:element name="ns0:OPTION_ID"&gt;
      &lt;xsl:value-of select="@id" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:OPTION_TYPE"&gt;
      &lt;xsl:variable name="var:tmpv1" select="userCSharp:ConvertToDescription()" /&gt;
      &lt;xsl:value-of select ="$var:tmpv1" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:OPTION_DESCRIPTION"&gt;
      &lt;xsl:value-of select="painting-text/text()" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:OPTION_PRICE"&gt;
      &lt;xsl:value-of select="option-price/text()" /&gt;
   &lt;/xsl:element&gt;
&lt;/xsl:element&gt;
&lt;/xsl:for-each&gt;
&lt;xsl:for-each select = "/offer-interface/offers/offer/vehiclepositions/vehicleposition/vehicle-options/options/option"&gt;
&lt;xsl:element name="ns0:OPTION"&gt;
   &lt;xsl:element name="ns0:OPTION_ID"&gt;
      &lt;xsl:variable name="var:tmpv2" select="@id" /&gt;
      &lt;xsl:variable name="var:tmpv3" select="userCSharp:Convert4To3($var:tmpv2)" /&gt;
      &lt;xsl:value-of select="$var:tmpv3" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:OPTION_TYPE"&gt;
      &lt;xsl:value-of select="'OPTION'" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:OPTION_DESCRIPTION"&gt;
      &lt;xsl:value-of select="option-text/text()" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:OPTION_PRICE"&gt;
      &lt;xsl:value-of select="option-price/text()" /&gt;
   &lt;/xsl:element&gt;
&lt;/xsl:element&gt;
&lt;/xsl:for-each&gt;</span>
</div>
</td>
<td>VEHICLE/OPTIONS/OPTION</td>
<td></td>
</tr>
<tr class="linkTableAltRow">
<td>
<div class="functoidArea"><span class="functoidName"></span>
</div>
</td>
<td>VEHICLE/PRODUCTION_DATE</td>
<td></td>
</tr>
</table>
</div>
<h3>Page 3: Charges</h3>
<p>
<a id="pageFunctoids3Anchor" onclick="toggleCollapse('pageFunctoids3', 'pageFunctoids3Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageFunctoids3">
<table>
<tr>
<th width="40%">Functoid Sequence</th>
<th width="40%">Destination Node</th>
<th width="20%">Labels</th>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidScript"><br />&lt;xsl:variable name="var:tempv1" select = "/offer-interface/offers/offer/vehiclepositions/vehicleposition/calculation/taxes/emissiontax_norway/wreck_deposit/text()" /&gt;
&lt;xsl:element name="ns0:CHARGE" &gt;
   &lt;xsl:element name="ns0:CHARGE_TYPE"&gt;
      &lt;xsl:value-of select="'VRAK'" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:CHARGE_DESCRIPTION"&gt;
      &lt;xsl:value-of select="'Vrakpant'" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:CHARGE_AMOUNT"&gt;
            &lt;xsl:value-of select ="$var:tempv1" /&gt;
   &lt;/xsl:element&gt;
&lt;/xsl:element&gt;
&lt;xsl:element name="ns0:CHARGE"&gt;
   &lt;xsl:element name="ns0:CHARGE_TYPE"&gt;
      &lt;xsl:value-of select="'VEKT'" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:CHARGE_DESCRIPTION"&gt;
      &lt;xsl:value-of select="'Vektavgift'" /&gt;
   &lt;/xsl:element&gt;
   &lt;xsl:element name="ns0:CHARGE_AMOUNT"&gt;
      &lt;xsl:variable name="var:tempv2" select="userCSharp:TotalVektAvgift($var:tempv1)" /&gt;
      &lt;xsl:value-of select ="$var:tempv2" /&gt;
   &lt;/xsl:element&gt;
&lt;/xsl:element&gt;</span>
</div>
</td>
<td>VEHICLE/CHARGES/CHARGE</td>
<td></td>
</tr>
</table>
</div>
<h3>Page 4: Accessories</h3>
<p>
<a id="pageFunctoids4Anchor" onclick="toggleCollapse('pageFunctoids4', 'pageFunctoids4Anchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="pageFunctoids4">
<table>
<tr>
<th width="40%">Functoid Sequence</th>
<th width="40%">Destination Node</th>
<th width="20%">Labels</th>
</tr>
<tr>
<td>
<div class="functoidArea"><span class="functoidName"></span>
<span class="functoidScript"><br />&lt;xsl:for-each select = "/offer-interface/offers/offer/vehiclepositions/vehicleposition/vehicle-options/systempartneroptions/option"&gt;
   &lt;xsl:variable name="var:tmpva1" select="@id" /&gt;
   &lt;xsl:variable name="var:tmpva2" select="option-price/text()" /&gt;
   
   &lt;xsl:element name="ns0:ACCESSORY"&gt;
      &lt;xsl:element name="ns0:ACCESSORY_ID"&gt;
         &lt;xsl:value-of select ="'TILBVAR1'" /&gt;
      &lt;/xsl:element&gt;
      &lt;xsl:element name="ns0:ACCESSORY_DESCRIPTION"&gt;
         &lt;xsl:value-of select="concat(additional-text/text(),' (',$var:tmpva1,')' )" /&gt;
      &lt;/xsl:element&gt;
      &lt;xsl:element name="ns0:ACCESSORY_PRICE"&gt;
         &lt;xsl:value-of select="$var:tmpva2" /&gt;
      &lt;/xsl:element&gt;
   &lt;/xsl:element&gt;
&lt;/xsl:for-each&gt;


&lt;xsl:for-each select = "/offer-interface/offers/offer/vehiclepositions/vehicleposition/vehicle-options/additionaloptions/additionaloption"&gt;
   &lt;xsl:element name="ns0:ACCESSORY"&gt;
      &lt;xsl:element name="ns0:ACCESSORY_ID"&gt;
         &lt;xsl:value-of select="'TILBVAR1'" /&gt;
      &lt;/xsl:element&gt;
      &lt;xsl:element name="ns0:ACCESSORY_DESCRIPTION"&gt;
         &lt;xsl:value-of select="option-text/text()" /&gt;
      &lt;/xsl:element&gt;
      &lt;xsl:element name="ns0:ACCESSORY_PRICE"&gt;
         &lt;xsl:value-of select="option-price/text()" /&gt;
      &lt;/xsl:element&gt;
   &lt;/xsl:element&gt;
&lt;!--


      &lt;xsl:variable name="var:tmpv2" select="@id" /&gt;
      &lt;xsl:variable name="var:tmpv3" select="userCSharp:Convert4To3($var:tmpv2)" /&gt;
      &lt;xsl:value-of select="$var:tmpv3" /&gt;





   &lt;xsl:element name="ns0:OPTION_TYPE"&gt;

   &lt;/xsl:element&gt;

&lt;/xsl:element&gt;
--&gt;
&lt;/xsl:for-each&gt;
</span>
</div>
</td>
<td>VEHICLE/ACCESSORIES/ACCESSORY</td>
<td></td>
</tr>
</table>
</div>
<hr />
<a name="constantvalues"></a>
<span style="font-size: 12px">^ </span>
<a href="#top" class="internalLink">Top</a>
<br />
<br />
<h2>Constant Values</h2>
<p>
<a id="constant1ValuesAnchor" onclick="toggleCollapse('constant1Values', 'constant1ValuesAnchor');" title="Collapse" class="collapseref">Collapse</a>
</p>
<div id="constant1Values">
<table>
<tr>
<th width="40%">Value</th>
<th width="60%">Destination Node</th>
</tr>
</table>
</div>
</body>
<script type="text/javascript">
				
	function toggleCollapse(obj, objAnchor) {
	var el = document.getElementById(obj);
	var elAnchor = document.getElementById(objAnchor);
	if ( el.style.display != "none" ) {
	  el.style.display = 'none';
	  elAnchor.innerHTML = 'Expand';
	}
	else {
	  el.style.display = '';
	  elAnchor.innerHTML = 'Collapse';
	}
	}
	
				</script>
</html>
